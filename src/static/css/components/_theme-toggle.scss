.theme-switch {
  position: relative;
  display: inline-block;
  width: 60px;
  height: 30px;
  right: 3rem;
  top: 0.5rem;


  input {
    position: absolute;
    opacity: 0;
    width: 0;
    height: 0;
    pointer-events: none;
  }

  .switch {
    position: relative;
    display: block;
    width: 100%;
    height: 100%;
    background-color: var(--border);
    border-radius: 999px; // pill shape
    padding: 3px; // track padding
    cursor: pointer;
    transition: background-color 0.25s ease;
  }

  .knob {
    position: absolute;
    top: 3px;
    left: 3px;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: var(--fg);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 16px;
    transition: transform 0.28s cubic-bezier(.2, .9, .3, 1), background 0.25s;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.12);
    z-index: 2;
  }

  /* icons inside knob - crossfade + small movement for polish */
  .knob .sun,
  .knob .moon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    transition: opacity 0.18s ease, transform 0.18s ease;
    pointer-events: none;
  }

  .knob .sun {
    opacity: 1;
    transform: translate(-50%, -50%) translateY(0);
  }

  .knob .moon {
    opacity: 0;
    transform: translate(-50%, -50%) translateY(-6px);
  }

  /* When checked => dark mode */
  input:checked+.switch {
    background-color: var(--accent);
  }

  /* Slide knob to the right. Calculation: (track width) - (knob width) - (padding*2) - left offset
     For the numbers above: 60 - 24 - (3*2) - 3 = 27 -> translateX(27px). Adjust if you change sizes. */
  input:checked+.switch .knob {
    transform: translateX(27px);
    background: var(--fg);
    /* keep knob color readable â€” change if needed */
  }

  /* Crossfade icons when toggled */
  input:checked+.switch .knob .sun {
    opacity: 0;
    transform: translate(-50%, -50%) translateY(6px);
  }

  input:checked+.switch .knob .moon {
    opacity: 1;
    transform: translate(-50%, -50%) translateY(0);
  }

  .switch::before,
  .switch::after {
    content: none !important;
  }

}